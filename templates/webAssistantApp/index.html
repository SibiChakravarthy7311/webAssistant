<!DOCTYPE html>
<html>
	<head>
		<title>Web Assistant</title>
        {% load static %}
        <link rel="stylesheet" href="{% static 'webAssistantApp/css/style.css' %}">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	</head>

	<body>
		<section>
			<h1>Speech Recognition</h1>
            <p>Available in Chrome Only</p>
            <div class="container">
                <div class="texts">

                    <form action="/runTrial/" id="commandForm" method="post">
                        {% csrf_token %}
                        <div style="text-align:center;">
                            <input type="text" id="passer" name="passer" value="Default">
                        </div>
                    </form>

                    <p id="output">{{msg}}</p>
                    <input onload="speakText()" type="text" id="hide" name="hide" value="hide">

                </div>
            </div>
		</section>

        {% load static %}
            <script type="text/javascript"  src="{% static 'webAssistantApp/js/main.js' %}"></script>
            <script type="text/javascript" src="https://code.responsivevoice.org/responsivevoice.js"></script>

        <script>
            function speakText(){
                var msg = document.getElementById('output').innerText;
                if(msg != ''){
                    responsiveVoice.speak(msg);
                }
                eraseOutput();
            }

            function eraseOutput(){
                document.getElementById('output').innerText = '';
            }
        </script>
	</body>
</html>